// _mygrid.scss

@use "@scss/abstract/index";

// Устанавливаем количество колонок в 12
$grid-columns: 12 !default;

// Ширина отступа между колонками (gutter) в Bootstrap 5.3 - 24px
$grid-gutter-width: 24px;
$grid-gutter-half: calc($grid-gutter-width / 2);

.container {
	width: 100%;
	padding: 0 20px;
	@include index.minMedia(550px) {
		padding: 0 30px;
	}
	@include index.minMedia(800px) {
		padding: 0 50px;
	}
	@include index.minMedia(1400px) {
		padding: 0 150px;
	}
	@include index.minMedia(1800px) {
		max-width: 1920px;
		padding: 0 200px;
	}
}

.row {
	display: flex;
	flex-wrap: wrap;
	// Отрицательный margin для компенсации отступов у колонок
	margin-left: -1 * $grid-gutter-half; // Изменен отступ в соответствии с $grid-gutter-half
	margin-right: -1 * $grid-gutter-half;

	@include index.minMedia(800px) {
		margin-left: -1 * $grid-gutter-half; // Изменен отступ для больших экранов
		margin-right: -1 * $grid-gutter-half;
	}
}

// Расширяем карту $columns для 12 колонок
$columns: (
	"1": calc(100% / 12),
	"2": calc(100% / 12 * 2),
	"3": calc(100% / 12 * 3),
	"4": calc(100% / 12 * 4),
	"5": calc(100% / 12 * 5),
	"6": calc(100% / 12 * 6),
	"7": calc(100% / 12 * 7),
	"8": calc(100% / 12 * 8),
	"9": calc(100% / 12 * 9),
	"10": calc(100% / 12 * 10),
	"11": calc(100% / 12 * 11),
	"12": 100%,
);

@each $col, $width in $columns {
	.col-#{$col} {
		width: $width;

		// Адаптация для мобильных экранов. Все колонки занимают 100%
		@media (max-width: 549px) {
			width: 100%;
		}
	}
	// Создание медиа запросов для адаптивности
	@each $bp, $val in index.$grid-breakpoints {
		@if $bp != "xs" {
			.col-#{$col}--#{$bp} {
				@include index.minMedia($val) {
					width: $width;
				}
			}
		}
	}
}

// Стили для отступов колонок (gutter)
[class*="col-"],
[class^="col-"] {
	box-sizing: border-box;
	padding-left: $grid-gutter-half; // Изменен padding на половину отступа
	padding-right: $grid-gutter-half; // Изменен padding на половину отступа
	min-height: 1px;
	position: relative;
}

.no-gutters {
	margin-left: 0;
	margin-right: 0;
	& > [class*="col-"],
	& > [class^="col-"] {
		padding-left: 0;
		padding-right: 0;
	}
}
